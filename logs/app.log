2025-05-19 16:36:44,679 - document_research_app - INFO - Database schema initialized successfully
2025-05-19 16:36:44,679 - document_research_app - INFO - Created shared SQLite connection to data/documents.db
2025-05-19 16:36:44,680 - document_research_app - INFO - Scheduled cache clearing every 6 hours
2025-05-19 16:36:44,681 - document_research_app - INFO - Starting application in production mode
2025-05-19 16:36:44,681 - document_research_app - INFO - Data folder: data
2025-05-19 16:36:44,681 - document_research_app - INFO - Upload folder: uploads
2025-05-19 16:36:44,681 - document_research_app - INFO - Static folder: static
2025-05-19 16:36:44,681 - document_research_app - INFO - Host: 0.0.0.0, Port: 3000
2025-05-19 16:36:52,283 - document_research_app - INFO - Created new session: 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:36:52,284 - document_research_app - INFO - Created new isolated session 11636128-1071-4a2b-970a-7e4d7e23652d on page load
2025-05-19 16:36:52,285 - document_research_app - INFO - Reset session 11636128-1071-4a2b-970a-7e4d7e23652d data: removed 0 documents and 0 messages
2025-05-19 16:36:52,430 - document_research_app - WARNING - Collection documents_fbe52ac9f6_23652d not found or could not be reset: Collection documents_fbe52ac9f6_23652d does not exist.
2025-05-19 16:36:52,430 - document_research_app - WARNING - Collection documents_11636128-1071-4a2b-970a-7e4d7e23652d not found or could not be reset: Collection documents_11636128-1071-4a2b-970a-7e4d7e23652d does not exist.
2025-05-19 16:36:52,431 - document_research_app - INFO - Showing only current session 11636128-1071-4a2b-970a-7e4d7e23652d in sidebar
2025-05-19 16:36:52,433 - document_research_app - INFO - Saving file: bridge_sensor.pdf (size: 178368 bytes) for session 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:36:52,433 - document_research_app - INFO - Successfully saved file: bridge_sensor.pdf (size: 178368 bytes)
2025-05-19 16:36:52,433 - document_research_app - INFO - Processing document: bridge_sensor.pdf (path: uploads/11636128-1071-4a2b-970a-7e4d7e23652d/bridge_sensor.pdf) for session 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:36:52,433 - document_research_app - INFO - File size: 0.17 MB
2025-05-19 16:36:52,433 - document_research_app - INFO - Processing PDF file: bridge_sensor.pdf
2025-05-19 16:36:52,433 - document_research_app - INFO - Trying PyMuPDF for bridge_sensor.pdf
2025-05-19 16:36:52,443 - document_research_app - INFO - PyMuPDF opened document with 8 pages
2025-05-19 16:36:52,457 - document_research_app - INFO - PyMuPDF extracted 2669 characters from page 1
2025-05-19 16:36:52,458 - document_research_app - INFO - PyMuPDF extracted 1470 characters from page 2
2025-05-19 16:36:52,459 - document_research_app - INFO - PyMuPDF extracted 1488 characters from page 3
2025-05-19 16:36:52,460 - document_research_app - INFO - PyMuPDF extracted 1878 characters from page 4
2025-05-19 16:36:52,460 - document_research_app - INFO - PyMuPDF extracted 1836 characters from page 5
2025-05-19 16:36:52,461 - document_research_app - INFO - PyMuPDF extracted 1594 characters from page 6
2025-05-19 16:36:52,461 - document_research_app - INFO - PyMuPDF extracted 2228 characters from page 7
2025-05-19 16:36:52,462 - document_research_app - INFO - PyMuPDF extracted 528 characters from page 8
2025-05-19 16:36:52,462 - document_research_app - INFO - Successfully extracted 8 text sections from bridge_sensor.pdf
2025-05-19 16:36:52,486 - document_research_app - INFO - Created ChromaDB client for path: data/chroma_db/session_fbe52ac9f6
2025-05-19 16:36:52,486 - document_research_app - INFO - Creating new collection documents_fbe52ac9f6_23652d for session 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:36:52,516 - document_research_app - INFO - ChromaDB collection documents_fbe52ac9f6_23652d initialized successfully for session 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:36:52,519 - document_research_app - INFO - Created new isolated vector collection for session: 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:36:52,901 - document_research_app - ERROR - Error creating session: cannot start a transaction within a transaction
2025-05-19 16:36:52,910 - document_research_app - ERROR - Error creating new session: cannot start a transaction within a transaction
2025-05-19 16:36:52,912 - document_research_app - WARNING - Session temp_8dd4a874-9e35-4557-86d1-c3c7edd81159 not found, creating a new one
2025-05-19 16:36:52,913 - document_research_app - INFO - Created new session: 53c36cb1-c213-4f70-b164-e7f7fa30fe7a
2025-05-19 16:36:52,925 - document_research_app - INFO - Created new session: 888262b1-4a56-4443-afbc-51190972aec8
2025-05-19 16:36:52,925 - document_research_app - INFO - Created new isolated session 888262b1-4a56-4443-afbc-51190972aec8 on page load
2025-05-19 16:36:52,926 - document_research_app - INFO - Reset session 888262b1-4a56-4443-afbc-51190972aec8 data: removed 0 documents and 0 messages
2025-05-19 16:36:52,930 - document_research_app - WARNING - Collection documents_b99889f93c_72aec8 not found or could not be reset: Collection documents_b99889f93c_72aec8 does not exist.
2025-05-19 16:36:52,933 - document_research_app - WARNING - Collection documents_888262b1-4a56-4443-afbc-51190972aec8 not found or could not be reset: Collection documents_888262b1-4a56-4443-afbc-51190972aec8 does not exist.
2025-05-19 16:36:52,934 - document_research_app - INFO - Showing only current session 888262b1-4a56-4443-afbc-51190972aec8 in sidebar
2025-05-19 16:36:53,394 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 567 embedding tokens
2025-05-19 16:36:53,847 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 460 embedding tokens
2025-05-19 16:36:54,668 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 428 embedding tokens
2025-05-19 16:36:55,535 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 544 embedding tokens
2025-05-19 16:36:56,043 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 533 embedding tokens
2025-05-19 16:36:56,480 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 390 embedding tokens
2025-05-19 16:36:57,231 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 571 embedding tokens
2025-05-19 16:36:57,664 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 94 embedding tokens
2025-05-19 16:36:57,670 - document_research_app - INFO - Created BM25 index with 8 paragraphs
2025-05-19 16:36:57,671 - document_research_app - INFO - Returning 8 paragraphs and 8 document info items
2025-05-19 16:36:57,674 - document_research_app - INFO - Successfully processed bridge_sensor.pdf: extracted 8 paragraphs
2025-05-19 16:36:57,676 - document_research_app - INFO - Processing query for session 11636128-1071-4a2b-970a-7e4d7e23652d: what is this all about...
2025-05-19 16:36:58,452 - document_research_app - INFO - Session 11636128-1071-4a2b-970a-7e4d7e23652d used 5 embedding tokens
2025-05-19 16:36:58,467 - document_research_app - INFO - Retrieved 8 documents for theme generation in session 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:37:02,478 - document_research_app - INFO - Created LLM-enhanced response for session 11636128-1071-4a2b-970a-7e4d7e23652d
2025-05-19 16:37:21,365 - document_research_app - INFO - Created new session: 682ca0fe-7f28-4c99-a1f5-85d6713ae1d5
2025-05-19 16:37:21,366 - document_research_app - INFO - Created new isolated session 682ca0fe-7f28-4c99-a1f5-85d6713ae1d5 on page load
2025-05-19 16:37:21,366 - document_research_app - INFO - Reset session 682ca0fe-7f28-4c99-a1f5-85d6713ae1d5 data: removed 0 documents and 0 messages
2025-05-19 16:37:21,378 - document_research_app - WARNING - Collection documents_18d7cb266c_3ae1d5 not found or could not be reset: Collection documents_18d7cb266c_3ae1d5 does not exist.
2025-05-19 16:37:21,379 - document_research_app - WARNING - Collection documents_682ca0fe-7f28-4c99-a1f5-85d6713ae1d5 not found or could not be reset: Collection documents_682ca0fe-7f28-4c99-a1f5-85d6713ae1d5 does not exist.
2025-05-19 16:37:21,379 - document_research_app - INFO - Showing only current session 682ca0fe-7f28-4c99-a1f5-85d6713ae1d5 in sidebar
2025-05-19 16:37:25,152 - document_research_app - INFO - Created new session: e160917e-1b44-4e53-a525-fb506d62413f
2025-05-19 16:37:25,153 - document_research_app - INFO - Created new isolated session e160917e-1b44-4e53-a525-fb506d62413f on page load
2025-05-19 16:37:25,153 - document_research_app - INFO - Reset session e160917e-1b44-4e53-a525-fb506d62413f data: removed 0 documents and 0 messages
2025-05-19 16:37:25,162 - document_research_app - WARNING - Collection documents_8d587d9d97_62413f not found or could not be reset: Collection documents_8d587d9d97_62413f does not exist.
2025-05-19 16:37:25,163 - document_research_app - WARNING - Collection documents_e160917e-1b44-4e53-a525-fb506d62413f not found or could not be reset: Collection documents_e160917e-1b44-4e53-a525-fb506d62413f does not exist.
2025-05-19 16:37:25,164 - document_research_app - INFO - Showing only current session e160917e-1b44-4e53-a525-fb506d62413f in sidebar
2025-05-19 16:37:39,980 - document_research_app - INFO - Database schema initialized successfully
2025-05-19 16:37:39,980 - document_research_app - INFO - Created shared SQLite connection to data/documents.db
2025-05-19 16:37:39,981 - document_research_app - INFO - Scheduled cache clearing every 6 hours
2025-05-19 16:37:39,982 - document_research_app - INFO - Starting application in production mode
2025-05-19 16:37:39,982 - document_research_app - INFO - Data folder: data
2025-05-19 16:37:39,982 - document_research_app - INFO - Upload folder: uploads
2025-05-19 16:37:39,982 - document_research_app - INFO - Static folder: static
2025-05-19 16:37:39,982 - document_research_app - INFO - Host: 0.0.0.0, Port: 8080
2025-05-19 16:37:46,500 - document_research_app - INFO - Created new session: 3a7214e4-c3c1-4628-826f-7e4ccc2c34e4
2025-05-19 16:37:46,501 - document_research_app - INFO - Created new isolated session 3a7214e4-c3c1-4628-826f-7e4ccc2c34e4 on page load
2025-05-19 16:37:46,501 - document_research_app - INFO - Reset session 3a7214e4-c3c1-4628-826f-7e4ccc2c34e4 data: removed 0 documents and 0 messages
2025-05-19 16:37:46,615 - document_research_app - WARNING - Collection documents_aa0fda74fd_2c34e4 not found or could not be reset: Collection documents_aa0fda74fd_2c34e4 does not exist.
2025-05-19 16:37:46,615 - document_research_app - WARNING - Collection documents_3a7214e4-c3c1-4628-826f-7e4ccc2c34e4 not found or could not be reset: Collection documents_3a7214e4-c3c1-4628-826f-7e4ccc2c34e4 does not exist.
2025-05-19 16:37:46,615 - document_research_app - INFO - Showing only current session 3a7214e4-c3c1-4628-826f-7e4ccc2c34e4 in sidebar
2025-05-19 16:38:48,811 - document_research_app - INFO - Created new session: 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:38:48,812 - document_research_app - INFO - Created new isolated session 9717a6aa-2483-4821-9308-a17cc2bb2142 on page load
2025-05-19 16:38:48,813 - document_research_app - INFO - Reset session 9717a6aa-2483-4821-9308-a17cc2bb2142 data: removed 0 documents and 0 messages
2025-05-19 16:38:48,833 - document_research_app - WARNING - Collection documents_19bf5c3e96_bb2142 not found or could not be reset: Collection documents_19bf5c3e96_bb2142 does not exist.
2025-05-19 16:38:48,834 - document_research_app - WARNING - Collection documents_9717a6aa-2483-4821-9308-a17cc2bb2142 not found or could not be reset: Collection documents_9717a6aa-2483-4821-9308-a17cc2bb2142 does not exist.
2025-05-19 16:38:48,836 - document_research_app - INFO - Showing only current session 9717a6aa-2483-4821-9308-a17cc2bb2142 in sidebar
2025-05-19 16:38:48,842 - document_research_app - INFO - Saving file: bridge_sensor.pdf (size: 178368 bytes) for session 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:38:48,842 - document_research_app - INFO - Successfully saved file: bridge_sensor.pdf (size: 178368 bytes)
2025-05-19 16:38:48,842 - document_research_app - INFO - Processing document: bridge_sensor.pdf (path: uploads/9717a6aa-2483-4821-9308-a17cc2bb2142/bridge_sensor.pdf) for session 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:38:48,842 - document_research_app - INFO - File size: 0.17 MB
2025-05-19 16:38:48,843 - document_research_app - INFO - Processing PDF file: bridge_sensor.pdf
2025-05-19 16:38:48,843 - document_research_app - INFO - Trying PyMuPDF for bridge_sensor.pdf
2025-05-19 16:38:48,854 - document_research_app - INFO - PyMuPDF opened document with 8 pages
2025-05-19 16:38:48,871 - document_research_app - INFO - PyMuPDF extracted 2669 characters from page 1
2025-05-19 16:38:48,873 - document_research_app - INFO - PyMuPDF extracted 1470 characters from page 2
2025-05-19 16:38:48,874 - document_research_app - INFO - PyMuPDF extracted 1488 characters from page 3
2025-05-19 16:38:48,874 - document_research_app - INFO - PyMuPDF extracted 1878 characters from page 4
2025-05-19 16:38:48,875 - document_research_app - INFO - PyMuPDF extracted 1836 characters from page 5
2025-05-19 16:38:48,876 - document_research_app - INFO - PyMuPDF extracted 1594 characters from page 6
2025-05-19 16:38:48,876 - document_research_app - INFO - PyMuPDF extracted 2228 characters from page 7
2025-05-19 16:38:48,877 - document_research_app - INFO - PyMuPDF extracted 528 characters from page 8
2025-05-19 16:38:48,877 - document_research_app - INFO - Successfully extracted 8 text sections from bridge_sensor.pdf
2025-05-19 16:38:48,906 - document_research_app - INFO - Created ChromaDB client for path: data/chroma_db/session_19bf5c3e96
2025-05-19 16:38:48,907 - document_research_app - INFO - Creating new collection documents_19bf5c3e96_bb2142 for session 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:38:48,943 - document_research_app - INFO - ChromaDB collection documents_19bf5c3e96_bb2142 initialized successfully for session 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:38:48,945 - document_research_app - INFO - Created new isolated vector collection for session: 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:38:49,808 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 567 embedding tokens
2025-05-19 16:38:50,456 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 460 embedding tokens
2025-05-19 16:38:51,419 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 428 embedding tokens
2025-05-19 16:38:51,868 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 544 embedding tokens
2025-05-19 16:38:52,259 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 533 embedding tokens
2025-05-19 16:38:52,651 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 390 embedding tokens
2025-05-19 16:38:53,191 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 571 embedding tokens
2025-05-19 16:38:54,073 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 94 embedding tokens
2025-05-19 16:38:54,077 - document_research_app - INFO - Created BM25 index with 8 paragraphs
2025-05-19 16:38:54,077 - document_research_app - INFO - Returning 8 paragraphs and 8 document info items
2025-05-19 16:38:54,079 - document_research_app - INFO - Successfully processed bridge_sensor.pdf: extracted 8 paragraphs
2025-05-19 16:38:54,081 - document_research_app - INFO - Processing query for session 9717a6aa-2483-4821-9308-a17cc2bb2142: what is this...
2025-05-19 16:38:54,488 - document_research_app - INFO - Session 9717a6aa-2483-4821-9308-a17cc2bb2142 used 3 embedding tokens
2025-05-19 16:38:54,508 - document_research_app - INFO - Retrieved 8 documents for theme generation in session 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:38:57,648 - document_research_app - INFO - Created LLM-enhanced response for session 9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:39:08,751 - document_research_app - INFO - Deleted session 9717a6aa-2483-4821-9308-a17cc2bb2142 with 8 documents and 2 messages
2025-05-19 16:39:08,760 - document_research_app - INFO - Successfully deleted session-specific ChromaDB directory at data/chroma_db/session_19bf5c3e96
2025-05-19 16:39:08,779 - document_research_app - WARNING - Collection documents_19bf5c3e96_bb2142 not found or could not be deleted: Collection documents_19bf5c3e96_bb2142 does not exist.
2025-05-19 16:39:08,780 - document_research_app - WARNING - Collection documents_9717a6aa-2483-4821-9308-a17cc2bb2142 not found or could not be deleted: Collection documents_9717a6aa-2483-4821-9308-a17cc2bb2142 does not exist.
2025-05-19 16:39:08,780 - document_research_app - INFO - Removed session 9717a6aa-2483-4821-9308-a17cc2bb2142 from session_collections dictionary
2025-05-19 16:39:08,780 - document_research_app - INFO - Successfully deleted session files at uploads/9717a6aa-2483-4821-9308-a17cc2bb2142
2025-05-19 16:39:08,801 - document_research_app - INFO - Created new session: 39544d4f-f81b-464e-a534-23414f957037
2025-05-19 16:39:08,802 - document_research_app - INFO - Created new isolated session 39544d4f-f81b-464e-a534-23414f957037 on page load
2025-05-19 16:39:08,802 - document_research_app - INFO - Reset session 39544d4f-f81b-464e-a534-23414f957037 data: removed 0 documents and 0 messages
2025-05-19 16:39:08,807 - document_research_app - WARNING - Collection documents_59d7380f97_957037 not found or could not be reset: Collection documents_59d7380f97_957037 does not exist.
2025-05-19 16:39:08,808 - document_research_app - WARNING - Collection documents_39544d4f-f81b-464e-a534-23414f957037 not found or could not be reset: Collection documents_39544d4f-f81b-464e-a534-23414f957037 does not exist.
2025-05-19 16:39:08,809 - document_research_app - INFO - Showing only current session 39544d4f-f81b-464e-a534-23414f957037 in sidebar
2025-05-19 16:39:14,588 - document_research_app - INFO - Deleted session 39544d4f-f81b-464e-a534-23414f957037 with 0 documents and 0 messages
2025-05-19 16:39:14,612 - document_research_app - WARNING - Collection documents_59d7380f97_957037 not found or could not be deleted: Collection documents_59d7380f97_957037 does not exist.
2025-05-19 16:39:14,613 - document_research_app - WARNING - Collection documents_39544d4f-f81b-464e-a534-23414f957037 not found or could not be deleted: Collection documents_39544d4f-f81b-464e-a534-23414f957037 does not exist.
2025-05-19 16:39:14,621 - document_research_app - INFO - Created new session: 9b7c2dc8-5a53-48ef-95bf-8dcb340924b9
2025-05-19 16:39:14,621 - document_research_app - INFO - Created new isolated session 9b7c2dc8-5a53-48ef-95bf-8dcb340924b9 on page load
2025-05-19 16:39:14,622 - document_research_app - INFO - Reset session 9b7c2dc8-5a53-48ef-95bf-8dcb340924b9 data: removed 0 documents and 0 messages
2025-05-19 16:39:14,625 - document_research_app - WARNING - Collection documents_329910729b_0924b9 not found or could not be reset: Collection documents_329910729b_0924b9 does not exist.
2025-05-19 16:39:14,626 - document_research_app - WARNING - Collection documents_9b7c2dc8-5a53-48ef-95bf-8dcb340924b9 not found or could not be reset: Collection documents_9b7c2dc8-5a53-48ef-95bf-8dcb340924b9 does not exist.
2025-05-19 16:39:14,626 - document_research_app - INFO - Showing only current session 9b7c2dc8-5a53-48ef-95bf-8dcb340924b9 in sidebar
